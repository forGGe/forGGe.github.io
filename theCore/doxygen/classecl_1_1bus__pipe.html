<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>theCore C++ embedded framework: ecl::bus_pipe&lt; GBus &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">theCore C++ embedded framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classecl_1_1bus__pipe.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">ecl::bus_pipe&lt; GBus &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Bus pipe (blocking) adapter.  
 <a href="classecl_1_1bus__pipe.html#details">More...</a></p>

<p><code>#include &lt;/root/thecore/dev/bus/export/dev/bus_pipe.hpp&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a93c6572f961501a837cf6b301aafc0b5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecl_1_1bus__pipe.html#a93c6572f961501a837cf6b301aafc0b5">bus_pipe</a> ()</td></tr>
<tr class="memdesc:a93c6572f961501a837cf6b301aafc0b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a pipe.  <a href="#a93c6572f961501a837cf6b301aafc0b5">More...</a><br /></td></tr>
<tr class="separator:a93c6572f961501a837cf6b301aafc0b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b760cde652267860b3ddf827e0fa23e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecl_1_1bus__pipe.html#a6b760cde652267860b3ddf827e0fa23e">~bus_pipe</a> ()</td></tr>
<tr class="memdesc:a6b760cde652267860b3ddf827e0fa23e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructs a pipe.  <a href="#a6b760cde652267860b3ddf827e0fa23e">More...</a><br /></td></tr>
<tr class="separator:a6b760cde652267860b3ddf827e0fa23e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af09c771072daf8919141bf4bcfa1b187"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810">ecl::err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecl_1_1bus__pipe.html#af09c771072daf8919141bf4bcfa1b187">init</a> ()</td></tr>
<tr class="memdesc:af09c771072daf8919141bf4bcfa1b187"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inits a pipe.  <a href="#af09c771072daf8919141bf4bcfa1b187">More...</a><br /></td></tr>
<tr class="separator:af09c771072daf8919141bf4bcfa1b187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8ac5f7e8acfaf543a162c25797ed0b0"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecl_1_1bus__pipe.html#ab8ac5f7e8acfaf543a162c25797ed0b0">write</a> (const uint8_t *<a class="el" href="pool__unit_8cpp.html#adf95c0636bce291f80668fa7b40a29b0">data</a>, size_t count)</td></tr>
<tr class="memdesc:ab8ac5f7e8acfaf543a162c25797ed0b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a data to a pipe.  <a href="#ab8ac5f7e8acfaf543a162c25797ed0b0">More...</a><br /></td></tr>
<tr class="separator:ab8ac5f7e8acfaf543a162c25797ed0b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c16a0e50fc6f5e4cea9469a3e713e98"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecl_1_1bus__pipe.html#a3c16a0e50fc6f5e4cea9469a3e713e98">read</a> (uint8_t *buffer, size_t size)</td></tr>
<tr class="memdesc:a3c16a0e50fc6f5e4cea9469a3e713e98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a data from a pipe.  <a href="#a3c16a0e50fc6f5e4cea9469a3e713e98">More...</a><br /></td></tr>
<tr class="separator:a3c16a0e50fc6f5e4cea9469a3e713e98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb0d14622e903b86fcab8f659568c868"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810">ecl::err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecl_1_1bus__pipe.html#adb0d14622e903b86fcab8f659568c868">last_error</a> () const </td></tr>
<tr class="memdesc:adb0d14622e903b86fcab8f659568c868"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets last error occurred.  <a href="#adb0d14622e903b86fcab8f659568c868">More...</a><br /></td></tr>
<tr class="separator:adb0d14622e903b86fcab8f659568c868"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class GBus&gt;<br />
class ecl::bus_pipe&lt; GBus &gt;</h3>

<p>Bus pipe (blocking) adapter. </p>
<p>This adapter provides functionality of a blocking pipe built over generic bus interface. </p><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">GBus</td><td>Generic bus driver. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classecl_1_1generic__bus.html" title="Generic bus interface. ">generic_bus</a> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a93c6572f961501a837cf6b301aafc0b5"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class GBus &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classecl_1_1bus__pipe.html">ecl::bus_pipe</a>&lt; GBus &gt;::<a class="el" href="classecl_1_1bus__pipe.html">bus_pipe</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a pipe. </p>

</div>
</div>
<a class="anchor" id="a6b760cde652267860b3ddf827e0fa23e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class GBus &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classecl_1_1bus__pipe.html">ecl::bus_pipe</a>&lt; GBus &gt;::~<a class="el" href="classecl_1_1bus__pipe.html">bus_pipe</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructs a pipe. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af09c771072daf8919141bf4bcfa1b187"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class GBus &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810">ecl::err</a> <a class="el" href="classecl_1_1bus__pipe.html">ecl::bus_pipe</a>&lt; GBus &gt;::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inits a pipe. </p>
<p>Lazy initialization. Inits a bus. </p><dl class="section return"><dt>Returns</dt><dd>Status of operation. </dd></dl>

</div>
</div>
<a class="anchor" id="ab8ac5f7e8acfaf543a162c25797ed0b0"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class GBus &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">ssize_t <a class="el" href="classecl_1_1bus__pipe.html">ecl::bus_pipe</a>&lt; GBus &gt;::write </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a data to a pipe. </p>
<p>If error is occurred before transfer has started then this method will immediately exit and return negative integer value to notify about error. If error occur during transaction then return value will be less than bytes requested or zero, indicating amount of bytes that were successfully written to a pipe. Last error can be obtained via </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classecl_1_1bus__pipe.html#adb0d14622e903b86fcab8f659568c868" title="Gets last error occurred. ">last_error()</a> call Caller will be blocked until all bytes will be transferred or error will occur. </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Bus is initialized. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Data to write. Must not be null. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">count</td><td>Count of bytes that must be written to a pipe. Can be zero. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Value indicating either error if negative or amount of bytes transferred if positive. </dd></dl>

</div>
</div>
<a class="anchor" id="a3c16a0e50fc6f5e4cea9469a3e713e98"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class GBus &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">ssize_t <a class="el" href="classecl_1_1bus__pipe.html">ecl::bus_pipe</a>&lt; GBus &gt;::read </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads a data from a pipe. </p>
<p>If error is occurred before transfer has started then this method will immediately exit and return negative integer value to notify about error. If error occur during transaction or there is less data than request then return value will be less than size of provided buffer, indicating amount of bytes that were successfully read from a pipe. Last error can be obtained via </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classecl_1_1bus__pipe.html#adb0d14622e903b86fcab8f659568c868" title="Gets last error occurred. ">last_error()</a> call. Caller will be blocked until all bytes will be written to <a class="el" href="group__stm32__gpio.html#ggad60cff4932a4d112ce19db3a380774a0a0cc175b9c0f1b6a831c399e269772661">a</a> buffer or error will occur. </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Bus is initialized and buffer is valid. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>Data buffer to read to. Must not be null. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Size of a buffer. Can be zero. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Value indicating an error if negative or bytes stored to a buffer if positive. </dd></dl>

</div>
</div>
<a class="anchor" id="adb0d14622e903b86fcab8f659568c868"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class GBus &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810">err</a> <a class="el" href="classecl_1_1bus__pipe.html">ecl::bus_pipe</a>&lt; GBus &gt;::last_error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets last error occurred. </p>
<dl class="section return"><dt>Returns</dt><dd>Error defined in <a class="el" href="namespaceecl.html#a1712b117c1d0fb5dc2bb612656aacc84a56bd7107802ebe56c6918992f0608ec6" title="Error event. ">ecl::err</a> </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classecl_1_1bus__pipe_adb0d14622e903b86fcab8f659568c868_cgraph.png" border="0" usemap="#classecl_1_1bus__pipe_adb0d14622e903b86fcab8f659568c868_cgraph" alt=""/></div>
<map name="classecl_1_1bus__pipe_adb0d14622e903b86fcab8f659568c868_cgraph" id="classecl_1_1bus__pipe_adb0d14622e903b86fcab8f659568c868_cgraph">
<area shape="rect" id="node2" href="namespaceecl.html#a9cad3f0245d7c13ec8d2bdece0cebcd8" title="ecl::is_error" alt="" coords="192,13,291,39"/>
</map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="bus__pipe_8hpp.html">bus_pipe.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceecl.html">ecl</a></li><li class="navelem"><a class="el" href="classecl_1_1bus__pipe.html">bus_pipe</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
