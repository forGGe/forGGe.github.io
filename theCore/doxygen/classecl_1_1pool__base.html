<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Project: ecl::pool_base Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classecl_1_1pool__base.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">ecl::pool_base Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Base class for memory pool.  
 <a href="classecl_1_1pool__base.html#details">More...</a></p>

<p><code>#include &lt;/home/executor/projects/thecore/thecore/lib/allocators/export/ecl/pool.hpp&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ecl::pool_base:</div>
<div class="dyncontent">
<div class="center"><img src="classecl_1_1pool__base__inherit__graph.png" border="0" usemap="#ecl_1_1pool__base_inherit__map" alt="Inheritance graph"/></div>
<map name="ecl_1_1pool__base_inherit__map" id="ecl_1_1pool__base_inherit__map">
<area shape="rect" id="node2" href="classecl_1_1pool.html" title="Holds given buffer as a pool. " alt="" coords="5,80,131,121"/>
<area shape="rect" id="node3" href="classecl_1_1pool.html" title="ecl::pool\&lt; get_alloc\l_blk_size(), 256 \&gt;" alt="" coords="155,80,290,121"/>
<area shape="rect" id="node4" href="classpool__mock.html" title="pool_mock" alt="" coords="315,87,400,114"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a534fe7d766088918f4a789cde3c43e20"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a534fe7d766088918f4a789cde3c43e20"><td class="memTemplItemLeft" align="right" valign="top">T *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classecl_1_1pool__base.html#a534fe7d766088918f4a789cde3c43e20">aligned_alloc</a> (size_t n)</td></tr>
<tr class="memdesc:a534fe7d766088918f4a789cde3c43e20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates memory suitable for type T, with respect to its aligment.  <a href="#a534fe7d766088918f4a789cde3c43e20">More...</a><br /></td></tr>
<tr class="separator:a534fe7d766088918f4a789cde3c43e20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae006a6c3645afbc772e334dbbff61324"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ae006a6c3645afbc772e334dbbff61324"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classecl_1_1pool__base.html#ae006a6c3645afbc772e334dbbff61324">deallocate</a> (T *p, size_t n)</td></tr>
<tr class="memdesc:ae006a6c3645afbc772e334dbbff61324"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates memory, previously allocated by aligned_alloc.  <a href="#ae006a6c3645afbc772e334dbbff61324">More...</a><br /></td></tr>
<tr class="separator:ae006a6c3645afbc772e334dbbff61324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84d6a62e9c962b3b71eb3b7e5550caf4"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecl_1_1pool__base.html#a84d6a62e9c962b3b71eb3b7e5550caf4">~pool_base</a> ()</td></tr>
<tr class="memdesc:a84d6a62e9c962b3b71eb3b7e5550caf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a pool.  <a href="#a84d6a62e9c962b3b71eb3b7e5550caf4">More...</a><br /></td></tr>
<tr class="separator:a84d6a62e9c962b3b71eb3b7e5550caf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a554879869af02e0ca0519377b5a0b7bf"><td class="memItemLeft" align="right" valign="top">virtual uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecl_1_1pool__base.html#a554879869af02e0ca0519377b5a0b7bf">real_alloc</a> (size_t n, size_t align, size_t obj_sz)=0</td></tr>
<tr class="memdesc:a554879869af02e0ca0519377b5a0b7bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates chunk with respect to given alingment.  <a href="#a554879869af02e0ca0519377b5a0b7bf">More...</a><br /></td></tr>
<tr class="separator:a554879869af02e0ca0519377b5a0b7bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24f1960a5cf1f46640e2baa142f4ca23"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecl_1_1pool__base.html#a24f1960a5cf1f46640e2baa142f4ca23">real_dealloc</a> (uint8_t *p, size_t n, size_t obj_sz)=0</td></tr>
<tr class="memdesc:a24f1960a5cf1f46640e2baa142f4ca23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates chunk of given address and length.  <a href="#a24f1960a5cf1f46640e2baa142f4ca23">More...</a><br /></td></tr>
<tr class="separator:a24f1960a5cf1f46640e2baa142f4ca23"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Base class for memory pool. </p>
<p>Provides interfaces for allocation and deallocation of objects of given type. This abstraction helps split handing of type requirement and memory allocations into separate entities. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classecl_1_1pool.html" title="Holds given buffer as a pool. ">ecl::pool</a> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a84d6a62e9c962b3b71eb3b7e5550caf4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ecl::pool_base::~pool_base </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroys a pool. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a534fe7d766088918f4a789cde3c43e20"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T * ecl::pool_base::aligned_alloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates memory suitable for type T, with respect to its aligment. </p>
<p>This method will allocate continuous block of memory that suitable for given type and count of objects of given type. Start address of that block will be aligned with respect to the given type. </p><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>A type whose object will be placed in the allocated memory. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>Count of objects that will be placed in the allocated memory. Behavior is undefined if given count is equal to 0. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nullptr if there is no space for given type and count in the pool. Valid pointer returned otherwise. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classecl_1_1pool__base_a534fe7d766088918f4a789cde3c43e20_cgraph.png" border="0" usemap="#classecl_1_1pool__base_a534fe7d766088918f4a789cde3c43e20_cgraph" alt=""/></div>
<map name="classecl_1_1pool__base_a534fe7d766088918f4a789cde3c43e20_cgraph" id="classecl_1_1pool__base_a534fe7d766088918f4a789cde3c43e20_cgraph">
<area shape="rect" id="node2" href="classecl_1_1pool__base.html#a554879869af02e0ca0519377b5a0b7bf" title="Allocates chunk with respect to given alingment. " alt="" coords="208,5,343,47"/>
<area shape="rect" id="node3" href="namespaceecl.html#abf70b61cc734c2dcdc322714607b344a" title="ecl::endl" alt="" coords="240,71,311,98"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae006a6c3645afbc772e334dbbff61324"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void ecl::pool_base::deallocate </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deallocates memory, previously allocated by aligned_alloc. </p>
<dl class="section pre"><dt>Precondition</dt><dd>Memory pool with allocated block of given type, starting from given address and with total size that corresponds to amount of objects that where requested in call to <a class="el" href="classecl_1_1pool__base.html#a534fe7d766088918f4a789cde3c43e20" title="Allocates memory suitable for type T, with respect to its aligment. ">aligned_alloc()</a> </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Memory pool with deallocated (invalidated) block in given address with given object count and object type. </dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>A type whose object was placed in the pool memory. block was originally allocated for other type. Undefined behavior otherwise. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>A pointer to a block of previously allocated memory. If given pointer is outside of pool or it points to a block that wasn't allocated by alligned_alloc() then behavior is undefined. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>Count of objects to deallocate. Must match the value previously passed to alligned_alloc(). Undefined behavior otherwise. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classecl_1_1pool__base_ae006a6c3645afbc772e334dbbff61324_cgraph.png" border="0" usemap="#classecl_1_1pool__base_ae006a6c3645afbc772e334dbbff61324_cgraph" alt=""/></div>
<map name="classecl_1_1pool__base_ae006a6c3645afbc772e334dbbff61324_cgraph" id="classecl_1_1pool__base_ae006a6c3645afbc772e334dbbff61324_cgraph">
<area shape="rect" id="node2" href="namespaceecl.html#abf70b61cc734c2dcdc322714607b344a" title="ecl::endl" alt="" coords="259,5,329,32"/>
<area shape="rect" id="node3" href="classecl_1_1pool__base.html#a24f1960a5cf1f46640e2baa142f4ca23" title="Deallocates chunk of given address and length. " alt="" coords="227,57,361,98"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a554879869af02e0ca0519377b5a0b7bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint8_t* ecl::pool_base::real_alloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>align</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>obj_sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocates chunk with respect to given alingment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>Object count. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">align</td><td>Required align. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">obj_sz</td><td>Size of single object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nullptr if there is no space for given type and count in the pool. Valid pointer returned otherwise. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classecl_1_1pool__base.html#a534fe7d766088918f4a789cde3c43e20" title="Allocates memory suitable for type T, with respect to its aligment. ">aligned_alloc()</a> </dd></dl>

<p>Implemented in <a class="el" href="classecl_1_1pool.html#aaaef1de2315ecc74c12190e234684e6b">ecl::pool&lt; blk_sz, blk_cnt &gt;</a>, <a class="el" href="classecl_1_1pool.html#aaaef1de2315ecc74c12190e234684e6b">ecl::pool&lt; get_alloc_blk_size(), 256 &gt;</a>, and <a class="el" href="classpool__mock.html#a73628ea21e79ecd822f44d4eaeeddbf3">pool_mock</a>.</p>

</div>
</div>
<a class="anchor" id="a24f1960a5cf1f46640e2baa142f4ca23"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ecl::pool_base::real_dealloc </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>obj_sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deallocates chunk of given address and length. </p>
<p>Length of chunk is determined by multiplication count of objects by object size. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>Address of a chunk. Must be valid address, returned Previously by <a class="el" href="classecl_1_1pool__base.html#a554879869af02e0ca0519377b5a0b7bf" title="Allocates chunk with respect to given alingment. ">real_alloc()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>Objects count. Must be the same as passed to <a class="el" href="classecl_1_1pool__base.html#a554879869af02e0ca0519377b5a0b7bf" title="Allocates chunk with respect to given alingment. ">real_alloc()</a> when given chunk was allocated. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">obj_sz</td><td>Size of single object. Must be the same as passed to <a class="el" href="classecl_1_1pool__base.html#a554879869af02e0ca0519377b5a0b7bf" title="Allocates chunk with respect to given alingment. ">real_alloc()</a> when given chunk was allocated. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classecl_1_1pool__base.html#ae006a6c3645afbc772e334dbbff61324" title="Deallocates memory, previously allocated by aligned_alloc. ">deallocate()</a> </dd></dl>

<p>Implemented in <a class="el" href="classecl_1_1pool.html#ad477b94b4b4da151408ebe3baef5c329">ecl::pool&lt; blk_sz, blk_cnt &gt;</a>, <a class="el" href="classecl_1_1pool.html#ad477b94b4b4da151408ebe3baef5c329">ecl::pool&lt; get_alloc_blk_size(), 256 &gt;</a>, and <a class="el" href="classpool__mock.html#a0de40c099498d9bf56e66df7d25be84f">pool_mock</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="pool_8hpp.html">pool.hpp</a></li>
<li><a class="el" href="alloc_8cpp.html">alloc.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceecl.html">ecl</a></li><li class="navelem"><a class="el" href="classecl_1_1pool__base.html">pool_base</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
