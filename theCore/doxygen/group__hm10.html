<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>theCore C++ embedded framework: HM-10 module driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">theCore C++ embedded framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__hm10.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">HM-10 module driver<div class="ingroups"><a class="el" href="group__dev.html">External device drivers</a> &raquo; <a class="el" href="group__connectivity.html">Connectivity and IoT drivers</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Additional documentation and examples can be found at:  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for HM-10 module driver:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__hm10.png" border="0" alt="" usemap="#group____hm10"/>
<map name="group____hm10" id="group____hm10">
<area shape="rect" id="node1" href="group__connectivity.html" title="Connectivity and IoT\l drivers" alt="" coords="5,5,148,47"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecl_1_1hm10__sync.html">ecl::hm10_sync&lt; Uart, Serial &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">HM10 synchronous BT driver.  <a href="classecl_1_1hm10__sync.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2107389553195d979e02a5798eb0bad7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810">err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hm10.html#ga2107389553195d979e02a5798eb0bad7">ecl::hm10_sync&lt; Uart, Serial &gt;::init</a> ()</td></tr>
<tr class="memdesc:ga2107389553195d979e02a5798eb0bad7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes BT module.  <a href="#ga2107389553195d979e02a5798eb0bad7">More...</a><br /></td></tr>
<tr class="separator:ga2107389553195d979e02a5798eb0bad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae8ae3d6928f6f3ffde866c5ab38a6143"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810">err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hm10.html#gae8ae3d6928f6f3ffde866c5ab38a6143">ecl::hm10_sync&lt; Uart, Serial &gt;::set_pin</a> (uint32_t pin)</td></tr>
<tr class="memdesc:gae8ae3d6928f6f3ffde866c5ab38a6143"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets pin code for connecting to the bluetooth device.  <a href="#gae8ae3d6928f6f3ffde866c5ab38a6143">More...</a><br /></td></tr>
<tr class="separator:gae8ae3d6928f6f3ffde866c5ab38a6143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafa27fbd8226f910e8f76b4794897528d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810">err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hm10.html#gafa27fbd8226f910e8f76b4794897528d">ecl::hm10_sync&lt; Uart, Serial &gt;::get_pin</a> (uint32_t &amp;pin)</td></tr>
<tr class="memdesc:gafa27fbd8226f910e8f76b4794897528d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets pin code from the device.  <a href="#gafa27fbd8226f910e8f76b4794897528d">More...</a><br /></td></tr>
<tr class="separator:gafa27fbd8226f910e8f76b4794897528d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf1e93e4e8dcfbacc2ef34f6736f1c16"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810">err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hm10.html#gaaf1e93e4e8dcfbacc2ef34f6736f1c16">ecl::hm10_sync&lt; Uart, Serial &gt;::set_immediate</a> (bool state=true)</td></tr>
<tr class="memdesc:gaaf1e93e4e8dcfbacc2ef34f6736f1c16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets immediate mode of operation.  <a href="#gaaf1e93e4e8dcfbacc2ef34f6736f1c16">More...</a><br /></td></tr>
<tr class="separator:gaaf1e93e4e8dcfbacc2ef34f6736f1c16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga58b824791cb759625b7a1f787c134859"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810">err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hm10.html#ga58b824791cb759625b7a1f787c134859">ecl::hm10_sync&lt; Uart, Serial &gt;::get_immediate</a> (bool &amp;state)</td></tr>
<tr class="memdesc:ga58b824791cb759625b7a1f787c134859"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets immediate mode state.  <a href="#ga58b824791cb759625b7a1f787c134859">More...</a><br /></td></tr>
<tr class="separator:ga58b824791cb759625b7a1f787c134859"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaebb3483c8b33c90e906a4e2771aa4ca0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810">err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hm10.html#gaebb3483c8b33c90e906a4e2771aa4ca0">ecl::hm10_sync&lt; Uart, Serial &gt;::disconnect</a> ()</td></tr>
<tr class="memdesc:gaebb3483c8b33c90e906a4e2771aa4ca0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send disconnect command.  <a href="#gaebb3483c8b33c90e906a4e2771aa4ca0">More...</a><br /></td></tr>
<tr class="separator:gaebb3483c8b33c90e906a4e2771aa4ca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga544f1482c9c09a0023cd31ac819edafd"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810">err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hm10.html#ga544f1482c9c09a0023cd31ac819edafd">ecl::hm10_sync&lt; Uart, Serial &gt;::data_send</a> (const uint8_t *buf, size_t &amp;sz)</td></tr>
<tr class="memdesc:ga544f1482c9c09a0023cd31ac819edafd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends data to the module.  <a href="#ga544f1482c9c09a0023cd31ac819edafd">More...</a><br /></td></tr>
<tr class="separator:ga544f1482c9c09a0023cd31ac819edafd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafa97b179ca7faa53016857a054c07da1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810">err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hm10.html#gafa97b179ca7faa53016857a054c07da1">ecl::hm10_sync&lt; Uart, Serial &gt;::data_recv</a> (uint8_t *buf, size_t &amp;sz, std::chrono::milliseconds ms=std::chrono::milliseconds::max())</td></tr>
<tr class="memdesc:gafa97b179ca7faa53016857a054c07da1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives data from the module with given timeout.  <a href="#gafa97b179ca7faa53016857a054c07da1">More...</a><br /></td></tr>
<tr class="separator:gafa97b179ca7faa53016857a054c07da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Additional documentation and examples can be found at: </p>
<ul>
<li><a href="https://forgge.github.io/theCore/devices/hm-10-bluetooth.html">theCore HM-10 BTLE module doc page</a></li>
<li><a href="https://forgge.github.io/theCore/examples/stm32f4-discovery-bluetooth-hm10.html">HM-10 BTLE and STM32 Discovery board example page</a> </li>
</ul>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga2107389553195d979e02a5798eb0bad7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2107389553195d979e02a5798eb0bad7">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Uart , class Serial &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810">err</a> <a class="el" href="classecl_1_1hm10__sync.html">ecl::hm10_sync</a>&lt; Uart, Serial &gt;::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes BT module. </p>
<dl class="section return"><dt>Returns</dt><dd>Status of operation. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810a15e757c159904fb372bd77be464a4586" title="Interrupted function. ">err::inval</a></td><td>Module responded with invalid data. </td></tr>
    <tr><td class="paramname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810a6bd1da51c3edc54d566604a43bdc1dbe" title="Stream ioctl() timeout. ">err::timedout</a></td><td>Module did not respond at all. </td></tr>
    <tr><td class="paramname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810a444bcb3a3fcf8389296c49467f27e1d6">err::ok</a></td><td>Module is ready to work. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__hm10_ga2107389553195d979e02a5798eb0bad7_cgraph.png" border="0" usemap="#group__hm10_ga2107389553195d979e02a5798eb0bad7_cgraph" alt=""/></div>
<map name="group__hm10_ga2107389553195d979e02a5798eb0bad7_cgraph" id="group__hm10_ga2107389553195d979e02a5798eb0bad7_cgraph">
<area shape="rect" id="node2" href="namespaceecl.html#a9cad3f0245d7c13ec8d2bdece0cebcd8" title="ecl::is_error" alt="" coords="192,5,283,32"/>
</map>
</div>

</div>
</div>
<a id="gae8ae3d6928f6f3ffde866c5ab38a6143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae8ae3d6928f6f3ffde866c5ab38a6143">&#9670;&nbsp;</a></span>set_pin()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Uart , class Serial &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810">err</a> <a class="el" href="classecl_1_1hm10__sync.html">ecl::hm10_sync</a>&lt; Uart, Serial &gt;::set_pin </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets pin code for connecting to the bluetooth device. </p>
<p>Sends AT+PASS command. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pin</td><td>PIN to set. Must be in a range of 000000-999999 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of operation. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810a15e757c159904fb372bd77be464a4586" title="Interrupted function. ">err::inval</a></td><td>Module responded with invalid data. </td></tr>
    <tr><td class="paramname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810a6bd1da51c3edc54d566604a43bdc1dbe" title="Stream ioctl() timeout. ">err::timedout</a></td><td>Module did not respond at all. </td></tr>
    <tr><td class="paramname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810a444bcb3a3fcf8389296c49467f27e1d6">err::ok</a></td><td>New pin code is set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gafa27fbd8226f910e8f76b4794897528d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafa27fbd8226f910e8f76b4794897528d">&#9670;&nbsp;</a></span>get_pin()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Uart , class Serial &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810">err</a> <a class="el" href="classecl_1_1hm10__sync.html">ecl::hm10_sync</a>&lt; Uart, Serial &gt;::get_pin </td>
          <td>(</td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>pin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets pin code from the device. </p>
<p>Sends AT+PASS? command. </p><dl class="section warning"><dt>Warning</dt><dd>In case of error, content of pin argument is undefined. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pin</td><td>PIN set for current device. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810a15e757c159904fb372bd77be464a4586" title="Interrupted function. ">err::inval</a></td><td>Module responded with invalid data. </td></tr>
    <tr><td class="paramname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810a6bd1da51c3edc54d566604a43bdc1dbe" title="Stream ioctl() timeout. ">err::timedout</a></td><td>Module did not respond at all. </td></tr>
    <tr><td class="paramname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810a444bcb3a3fcf8389296c49467f27e1d6">err::ok</a></td><td>Pin retrieved successfully. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__hm10_gafa27fbd8226f910e8f76b4794897528d_cgraph.png" border="0" usemap="#group__hm10_gafa27fbd8226f910e8f76b4794897528d_cgraph" alt=""/></div>
<map name="group__hm10_gafa27fbd8226f910e8f76b4794897528d_cgraph" id="group__hm10_gafa27fbd8226f910e8f76b4794897528d_cgraph">
<area shape="rect" id="node2" href="namespaceecl.html#a9cad3f0245d7c13ec8d2bdece0cebcd8" title="ecl::is_error" alt="" coords="217,5,308,32"/>
</map>
</div>

</div>
</div>
<a id="gaaf1e93e4e8dcfbacc2ef34f6736f1c16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf1e93e4e8dcfbacc2ef34f6736f1c16">&#9670;&nbsp;</a></span>set_immediate()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Uart , class Serial &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810">err</a> <a class="el" href="classecl_1_1hm10__sync.html">ecl::hm10_sync</a>&lt; Uart, Serial &gt;::set_immediate </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>state</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets immediate mode of operation. </p>
<dl class="section pre"><dt>Precondition</dt><dd>Module in the master mode.</dd></dl>
<p>Sends AT+IMME command. Immediate mode controls how module behaves after power reset. If immediate mode is set, then module will be listening to commands and will not start any connection attempt.. Otherwise, module will operate immediately, (assuming a previous connection has been applied) </p><dl class="section warning"><dt>Warning</dt><dd>Immediate mode setting is preserved between module power cycles. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>New state of immediate mode: <code>true</code> - enables immediate mode, <code>false</code> - disables it. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810a15e757c159904fb372bd77be464a4586" title="Interrupted function. ">err::inval</a></td><td>Module responded with invalid data. </td></tr>
    <tr><td class="paramname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810a6bd1da51c3edc54d566604a43bdc1dbe" title="Stream ioctl() timeout. ">err::timedout</a></td><td>Module did not respond at all. </td></tr>
    <tr><td class="paramname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810a444bcb3a3fcf8389296c49467f27e1d6">err::ok</a></td><td>Immediate mode state is updated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga58b824791cb759625b7a1f787c134859"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga58b824791cb759625b7a1f787c134859">&#9670;&nbsp;</a></span>get_immediate()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Uart , class Serial &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810">err</a> <a class="el" href="classecl_1_1hm10__sync.html">ecl::hm10_sync</a>&lt; Uart, Serial &gt;::get_immediate </td>
          <td>(</td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets immediate mode state. </p>
<dl class="section pre"><dt>Precondition</dt><dd>Module in the master mode.</dd></dl>
<p>Sends AT+IMME? command. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__hm10.html#gaaf1e93e4e8dcfbacc2ef34f6736f1c16" title="Sets immediate mode of operation. ">set_immediate()</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">state</td><td>Current state of immediate mode: <code>true</code> - immediate mode is enabled. <code>false</code> - immediate mode is disabled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810a15e757c159904fb372bd77be464a4586" title="Interrupted function. ">err::inval</a></td><td>Module responded with invalid data. </td></tr>
    <tr><td class="paramname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810a6bd1da51c3edc54d566604a43bdc1dbe" title="Stream ioctl() timeout. ">err::timedout</a></td><td>Module did not respond at all. </td></tr>
    <tr><td class="paramname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810a444bcb3a3fcf8389296c49467f27e1d6">err::ok</a></td><td>Immediate mode state retrieved succesfully. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__hm10_ga58b824791cb759625b7a1f787c134859_cgraph.png" border="0" usemap="#group__hm10_ga58b824791cb759625b7a1f787c134859_cgraph" alt=""/></div>
<map name="group__hm10_ga58b824791cb759625b7a1f787c134859_cgraph" id="group__hm10_ga58b824791cb759625b7a1f787c134859_cgraph">
<area shape="rect" id="node2" href="namespaceecl.html#a9cad3f0245d7c13ec8d2bdece0cebcd8" title="ecl::is_error" alt="" coords="193,13,284,39"/>
</map>
</div>

</div>
</div>
<a id="gaebb3483c8b33c90e906a4e2771aa4ca0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaebb3483c8b33c90e906a4e2771aa4ca0">&#9670;&nbsp;</a></span>disconnect()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Uart , class Serial &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810">err</a> <a class="el" href="classecl_1_1hm10__sync.html">ecl::hm10_sync</a>&lt; Uart, Serial &gt;::disconnect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send disconnect command. </p>
<p>sends AT command. HM-10 will disconnect from any device. </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810a15e757c159904fb372bd77be464a4586" title="Interrupted function. ">err::inval</a></td><td>Module responded with invalid data. </td></tr>
    <tr><td class="paramname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810a6bd1da51c3edc54d566604a43bdc1dbe" title="Stream ioctl() timeout. ">err::timedout</a></td><td>Module did not respond at all. </td></tr>
    <tr><td class="paramname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810a444bcb3a3fcf8389296c49467f27e1d6">err::ok</a></td><td>Module has been successfully reset. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga544f1482c9c09a0023cd31ac819edafd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga544f1482c9c09a0023cd31ac819edafd">&#9670;&nbsp;</a></span>data_send()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Uart , class Serial &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810">err</a> <a class="el" href="classecl_1_1hm10__sync.html">ecl::hm10_sync</a>&lt; Uart, Serial &gt;::data_send </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends data to the module. </p>
<dl class="section warning"><dt>Warning</dt><dd>It is possible that no one has connected to the device yet. </dd>
<dd>
Data that is sent to unconnected module will be lost.</dd></dl>
<p>Call blocks until all data will be sent. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>Buffer to send. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">sz</td><td>Size of buffer as input, bytes written as output. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of operation. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810a444bcb3a3fcf8389296c49467f27e1d6">err::ok</a></td><td>Data sent successfully. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gafa97b179ca7faa53016857a054c07da1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafa97b179ca7faa53016857a054c07da1">&#9670;&nbsp;</a></span>data_recv()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Uart , class Serial &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810">err</a> <a class="el" href="classecl_1_1hm10__sync.html">ecl::hm10_sync</a>&lt; Uart, Serial &gt;::data_recv </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>sz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>ms</em> = <code>std::chrono::milliseconds::max()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Receives data from the module with given timeout. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Buffer to store incoming data. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">sz</td><td>Size of the buffer as input, bytes effectively written as output. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ms</td><td>Optional. Defines overall time to wait for incoming data. Defaults to infinite time. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of operation. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810a6bd1da51c3edc54d566604a43bdc1dbe" title="Stream ioctl() timeout. ">err::timedout</a></td><td>Buffer was not filled completely before timeout hit. It is still possible that some data was transferred. Check</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sz</td><td>to understand how many bytes are there. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="namespaceecl.html#ae35889935b17d1382e0afc3dc87e9810a444bcb3a3fcf8389296c49467f27e1d6">err::ok</a></td><td>Whole buffer was populated before timeout reached. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
